(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[399],{4349:function(e,r,s){Promise.resolve().then(s.bind(s,4738))},4738:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return l}});var t=s(7437),o=s(2265),n=s(7138),a=s(6463);function l(){let[e,r]=(0,o.useState)([]),[s,l]=(0,o.useState)(null),[i,d]=(0,o.useState)({name:"",email:"",phone:"",password:"",confirmPassword:"",propertyId:"",propertyAddress:"",propertyNumber:""}),[c,m]=(0,o.useState)(!1),[p,u]=(0,o.useState)(""),[h,g]=(0,o.useState)(""),b=(0,a.useRouter)();(0,o.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/properties/available"),s=await e.json();e.ok&&r(s.properties)}catch(e){console.error("Error fetching properties:",e)}},y=r=>{let{name:s,value:t}=r.target;if(d({...i,[s]:t}),"propertyId"===s){let r=e.find(e=>e.propertyId===t);l(r||null),r&&d(e=>({...e,propertyId:t,propertyAddress:"".concat(r.address,", ").concat(r.city,", ").concat(r.state," ").concat(r.zipCode),email:r.email||e.email,phone:r.phone||e.phone}))}p&&u("")},f=async e=>{if(e.preventDefault(),m(!0),u(""),g(""),i.password!==i.confirmPassword){u("Passwords do not match"),m(!1);return}if(i.password.length<6){u("Password must be at least 6 characters long"),m(!1);return}try{let e=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,email:i.email,phone:i.phone,password:i.password,propertyId:i.propertyId,propertyAddress:i.propertyAddress,propertyNumber:i.propertyNumber,role:"MEMBER"})}),r=await e.json();if(!e.ok)throw Error(r.error||"Registration failed");g("Registration successful! You can now log in with your credentials."),d({name:"",email:"",phone:"",password:"",confirmPassword:"",propertyId:"",propertyAddress:"",propertyNumber:""}),setTimeout(()=>{b.push("/member-login")},2e3)}catch(e){console.error("Registration error:",e),u(e instanceof Error?e.message:"Registration failed")}finally{m(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-emerald-800 to-teal-900 flex flex-col",children:[(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)(n.default,{href:"/",className:"inline-flex items-center text-white hover:text-green-200 transition-colors",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2",children:"Member Registration"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Join LuxyLyfe and discover luxury living"})]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[p&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p}),h&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:h}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Personal Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:i.name,onChange:y,required:!0,disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors disabled:bg-gray-100",placeholder:"Enter your full name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,required:!0,disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors disabled:bg-gray-100",placeholder:"your.email@example.com"}),(null==s?void 0:s.email)&&(0,t.jsxs)("p",{className:"text-sm text-amber-600 mt-1",children:["⚠️ This email must match the property contact email: ",s.email]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",id:"phone",name:"phone",value:i.phone,onChange:y,required:!0,disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors disabled:bg-gray-100",placeholder:"+1 (555) 123-4567"}),(null==s?void 0:s.phone)&&(0,t.jsxs)("p",{className:"text-sm text-amber-600 mt-1",children:["⚠️ This phone must match the property contact phone: ",s.phone]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Property Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"propertyId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Property ID *"}),(0,t.jsxs)("select",{id:"propertyId",name:"propertyId",value:i.propertyId,onChange:y,required:!0,disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"Select a Property ID"}),e.map(e=>(0,t.jsxs)("option",{value:e.propertyId,children:[e.propertyId," - ",e.title," (",e.city,", ",e.state,")"]},e.propertyId))]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Select the Property ID you're interested in purchasing or viewing"})]}),s&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Selected Property Details:"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Title:"})," ",s.title]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Address:"})," ",s.address,", ",s.city,", ",s.state," ",s.zipCode]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Type:"})," ",s.propertyType.replace(/_/g," ")]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Price:"})," $",s.price.toLocaleString()]}),s.email&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Contact Email:"})," ",s.email]}),s.phone&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Contact Phone:"})," ",s.phone]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"propertyAddress",className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Address *"}),(0,t.jsx)("textarea",{id:"propertyAddress",name:"propertyAddress",value:i.propertyAddress,onChange:y,required:!0,disabled:c,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors disabled:bg-gray-100 resize-none",placeholder:"Enter complete property address including city, state, and ZIP code"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"propertyNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Number/Unit *"}),(0,t.jsx)("input",{type:"text",id:"propertyNumber",name:"propertyNumber",value:i.propertyNumber,onChange:y,required:!0,disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors disabled:bg-gray-100",placeholder:"Unit number, apartment number, or house number"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Account Security"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",value:i.password,onChange:y,required:!0,disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors disabled:bg-gray-100",placeholder:"Create a secure password (min. 6 characters)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:y,required:!0,disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors disabled:bg-gray-100",placeholder:"Confirm your password"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-lg hover:from-green-700 hover:to-emerald-700 focus:ring-4 focus:ring-green-300 focus:outline-none transition-all duration-300 transform hover:scale-105 font-semibold disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Member Account"})]}),(0,t.jsx)("div",{className:"mt-8 text-center",children:(0,t.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,t.jsx)(n.default,{href:"/member-login",className:"text-green-600 hover:text-green-500 font-medium",children:"Sign in here"})]})})]})})]})}},7138:function(e,r,s){"use strict";s.d(r,{default:function(){return o.a}});var t=s(231),o=s.n(t)},6463:function(e,r,s){"use strict";var t=s(1169);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=4349)}),_N_E=e.O()}]);