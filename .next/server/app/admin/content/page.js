(()=>{var e={};e.id=975,e.ids=[975],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1317:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(6694),s(3538),s(5866);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let c=["",{children:["admin",{children:["content",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6694)),"C:\\Users\\puspa\\OneDrive\\Documents\\Work\\luxylyfe_project\\app\\admin\\content\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3538)),"C:\\Users\\puspa\\OneDrive\\Documents\\Work\\luxylyfe_project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\puspa\\OneDrive\\Documents\\Work\\luxylyfe_project\\app\\admin\\content\\page.tsx"],x="/admin/content/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/content/page",pathname:"/admin/content",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5384:(e,t,s)=>{Promise.resolve().then(s.bind(s,2096))},2096:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(326),r=s(7577),n=s(5047);function l(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)(null),[l,i]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),[o,x]=(0,r.useState)("HOME"),[m,u]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),[h,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[v,f]=(0,r.useState)(!0),N=["HOME","PROJECTS","ABOUT","MISSION","VISION","CONTACT"],[w,k]=(0,r.useState)({pageType:"HOME",sectionType:"HERO",title:"",subtitle:"",content:"",images:[],order:0,isActive:!0}),[C,T]=(0,r.useState)({key:"",value:"",dataType:"string",isPublic:!1}),S=async()=>{try{let e=await fetch("/api/admin/content");if(e.ok){let t=await e.json();i(t.contents||[])}}catch(e){console.error("Error fetching contents:",e)}},P=async()=>{try{let e=await fetch("/api/admin/settings");if(e.ok){let t=await e.json();c(t.settings||[])}}catch(e){console.error("Error fetching settings:",e)}},E=async e=>{e.preventDefault();try{let e=m?`/api/admin/content?id=${m.id}`:"/api/admin/content",t=await fetch(e,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(t.ok)await S(),b(!1),u(null),q(),alert(m?"Content updated successfully!":"Content created successfully!");else{let e=await t.json();alert(`Error: ${e.error}`)}}catch(e){console.error("Error saving content:",e),alert("Failed to save content")}},O=async e=>{e.preventDefault();try{let e=await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(e.ok)await P(),j(!1),g(null),D(),alert("Settings updated successfully!");else{let t=await e.json();alert(`Error: ${t.error}`)}}catch(e){console.error("Error saving settings:",e),alert("Failed to save settings")}},A=e=>{u(e),k({pageType:e.pageType,sectionType:e.sectionType,title:e.title,subtitle:e.subtitle||"",content:e.content||"",images:e.images,order:e.order,isActive:e.isActive}),b(!0)},_=e=>{g(e),T({key:e.key,value:e.value,dataType:e.dataType,isPublic:e.isPublic}),j(!0)},q=()=>{k({pageType:"HOME",sectionType:"HERO",title:"",subtitle:"",content:"",images:[],order:0,isActive:!0})},D=()=>{T({key:"",value:"",dataType:"string",isPublic:!1})},R=e=>{k(t=>({...t,images:t.images.filter((t,s)=>s!==e)}))},I=l.filter(e=>e.pageType===o);return v?a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsx("div",{className:"text-xl",children:"Loading..."})}):t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("div",{className:"bg-white shadow",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Content Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage page content and site settings"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>e.push("/admin/dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Back to Dashboard"}),a.jsx("button",{onClick:()=>{q(),b(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Content"}),a.jsx("button",{onClick:()=>{D(),j(!0)},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Add Setting"})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Page Content"}),a.jsx("select",{value:o,onChange:e=>x(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md",children:N.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[I.map(e=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded",children:e.sectionType}),(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-sm rounded",children:["Order: ",e.order]}),a.jsx("span",{className:`px-2 py-1 text-sm rounded ${e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.isActive?"Active":"Inactive"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),e.subtitle&&a.jsx("p",{className:"text-gray-600 mt-1",children:e.subtitle}),e.content&&(0,a.jsxs)("p",{className:"text-gray-700 mt-2 text-sm",children:[e.content.substring(0,150),"..."]}),e.images.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[e.images.length," image(s)"]})]}),a.jsx("button",{onClick:()=>A(e),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Edit"})]})},e.id)),0===I.length&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:["No content found for ",o," page"]})]})]})}),a.jsx("div",{children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Site Settings"}),(0,a.jsxs)("div",{className:"space-y-3",children:[d.map(e=>a.jsx("div",{className:"border border-gray-200 rounded p-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.key}),a.jsx("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:e.dataType}),e.isPublic&&a.jsx("span",{className:"px-1 py-0.5 bg-green-100 text-green-700 text-xs rounded",children:"Public"})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.value})]}),a.jsx("button",{onClick:()=>_(e),className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Edit"})]})},e.key)),0===d.length&&a.jsx("div",{className:"text-center py-4 text-gray-500",children:"No settings configured"})]})]})})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:m?"Edit Content":"Add New Content"}),(0,a.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Type"}),a.jsx("select",{value:w.pageType,onChange:e=>k(t=>({...t,pageType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:N.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),a.jsx("select",{value:w.sectionType,onChange:e=>k(t=>({...t,sectionType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:["HERO","SECTION","GALLERY","FEATURES","TESTIMONIALS"].map(e=>a.jsx("option",{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:w.title,onChange:e=>k(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle (Optional)"}),a.jsx("input",{type:"text",value:w.subtitle,onChange:e=>k(t=>({...t,subtitle:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content (Optional)"}),a.jsx("textarea",{value:w.content,onChange:e=>k(t=>({...t,content:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Images"}),(0,a.jsxs)("div",{className:"space-y-2",children:[w.images.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:e,onChange:e=>{let s=[...w.images];s[t]=e.target.value,k(e=>({...e,images:s}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"Image URL"}),a.jsx("button",{type:"button",onClick:()=>R(t),className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Remove"})]},t)),a.jsx("button",{type:"button",onClick:()=>{let e=prompt("Enter image URL:");e&&k(t=>({...t,images:[...t.images,e]}))},className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Add Image"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),a.jsx("input",{type:"number",value:w.order,onChange:e=>k(t=>({...t,order:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:w.isActive,onChange:e=>k(t=>({...t,isActive:e.target.checked})),className:"mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{b(!1),u(null),q()},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:m?"Update":"Create"})]})]})]})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:p?"Edit Setting":"Add New Setting"}),(0,a.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key"}),a.jsx("input",{type:"text",value:C.key,onChange:e=>T(t=>({...t,key:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,disabled:!!p})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),a.jsx("textarea",{value:C.value,onChange:e=>T(t=>({...t,value:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Type"}),a.jsx("select",{value:C.dataType,onChange:e=>T(t=>({...t,dataType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:["string","number","boolean","json"].map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:C.isPublic,onChange:e=>T(t=>({...t,isPublic:e.target.checked})),className:"mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Public (accessible via public API)"})]})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{j(!1),g(null),D()},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:p?"Update":"Create"})]})]})]})})]}):null}},5047:(e,t,s)=>{"use strict";var a=s(7389);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},6694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var a=s(8570);let r=(0,a.createProxy)(String.raw`C:\Users\puspa\OneDrive\Documents\Work\luxylyfe_project\app\admin\content\page.tsx`),{__esModule:n,$$typeof:l}=r;r.default;let i=(0,a.createProxy)(String.raw`C:\Users\puspa\OneDrive\Documents\Work\luxylyfe_project\app\admin\content\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,707,861],()=>s(1317));module.exports=a})();